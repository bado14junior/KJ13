
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Boutique</title>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
<style>
  .product { border: 1px solid #ccc; padding: 10px; margin: 10px; }
  .product img { max-width: 150px; }
</style>
</head>
<body>

<h1>Ma Boutique</h1>
<div id="products-container"></div>

<script>
  // Config Firebase (remplace avec ta config)
  const firebaseConfig = {
    apiKey: "TON_API_KEY",
    authDomain: "TON_AUTH_DOMAIN",
    projectId: "TON_PROJECT_ID",
  };

  // Initialiser Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // Fonction pour afficher les produits approuvés
  function displayProducts() {
    const container = document.getElementById('products-container');
    container.innerHTML = '<p>Chargement...</p>';

    db.collection('produits').where('approuve', '==', true).get()
      .then((querySnapshot) => {
        container.innerHTML = ''; // vide pendant affichagequerySnapshot.forEach((doc) => {
          const product = doc.data();
          const productHTML = `
            <div class="product">
              <h3>product.nom</h3>
              <img src="{product.imageUrl}" alt="product.nom" />
              <p>{product.description}</p>
              <strong>Prix : product.prix FCFA</strong>
            </div>
          `;
          container.innerHTML += productHTML;
        );
        if(querySnapshot.empty) 
          container.innerHTML = '<p>Aucun produit disponible.</p>';
        )
      .catch(error => 
        container.innerHTML = `<p>Erreur lors du chargement :{error.message}</p>`;
      });
  }

  // Charger produits au démarrage
  displayProducts();
</script>

</body>
</html>
